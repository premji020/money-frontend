{"ast":null,"code":"import _classCallCheck from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Transaction=function Transaction(props){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:props.transaction.username}),/*#__PURE__*/_jsx(\"td\",{children:props.transaction.role}),/*#__PURE__*/_jsx(\"td\",{children:props.transaction.amount}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\"+props.transaction._id,children:\"edit\"}),\" | \",/*#__PURE__*/_jsx(\"a\",{href:\"/#\",onClick:function onClick(){props.deleteTransaction(props.transaction._id);},children:\"delete\"})]})]});};//const totalAmount = props =>(\n//    <div>\n//        <p>`Total Amount is ${props.totalAmount}`</p>\n//    </div>\n//)\nvar TransactionsList=/*#__PURE__*/function(_Component){_inherits(TransactionsList,_Component);var _super=_createSuper(TransactionsList);function TransactionsList(props){var _this;_classCallCheck(this,TransactionsList);_this=_super.call(this,props);_this.deleteTransaction=_this.deleteTransaction.bind(_assertThisInitialized(_this));_this.state={transactions:[]};return _this;}_createClass(TransactionsList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:5000/transactions/').then(function(response){_this2.setState({transactions:response.data});}).catch(function(error){console.log(error);});}},{key:\"deleteTransaction\",value:function deleteTransaction(id){axios.delete('http://localhost:5000/transactions/'+id).then(function(res){return console.log(res.data);});this.setState({transactions:this.state.transactions.filter(function(el){return el._id!==id;})});}},{key:\"transactionList\",value:function transactionList(){var _this3=this;return this.state.transactions.map(function(currenttransaction){return/*#__PURE__*/_jsx(Transaction,{transaction:currenttransaction,deleteTransaction:_this3.deleteTransaction},currenttransaction._id);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Logged Transactions\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.transactionList()})]})]});}}]);return TransactionsList;}(Component);export{TransactionsList as default};","map":{"version":3,"sources":["D:/Coding/MERN/Hackathon 2/money-manager/src/components/transactions-list.component.js"],"names":["React","Component","Link","axios","Transaction","props","transaction","username","role","amount","_id","deleteTransaction","TransactionsList","bind","state","transactions","get","then","response","setState","data","catch","error","console","log","id","delete","res","filter","el","map","currenttransaction","transactionList"],"mappings":"2xBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,KAAK,qBAErB,mCACE,oBAAKA,KAAK,CAACC,WAAN,CAAkBC,QAAvB,EADF,cAEE,oBAAKF,KAAK,CAACC,WAAN,CAAkBE,IAAvB,EAFF,cAGE,oBAAKH,KAAK,CAACC,WAAN,CAAkBG,MAAvB,EAHF,cAIE,mCACE,KAAC,IAAD,EAAM,EAAE,CAAE,SAASJ,KAAK,CAACC,WAAN,CAAkBI,GAArC,kBADF,oBAC0D,UAAG,IAAI,CAAC,IAAR,CAAa,OAAO,CAAE,kBAAM,CAAEL,KAAK,CAACM,iBAAN,CAAwBN,KAAK,CAACC,WAAN,CAAkBI,GAA1C,EAAgD,CAA9E,oBAD1D,GAJF,GAFqB,EAAzB,CAaA;AACA;AACA;AACA;AACA;GAEqBE,CAAAA,gB,oHAEjB,0BAAYP,KAAZ,CAAmB,kDACf,uBAAMA,KAAN,EACA,MAAKM,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBE,IAAvB,+BAAzB,CACA,MAAKC,KAAL,CAAa,CAACC,YAAY,CAAE,EAAf,CAAb,CAHe,aAIhB,C,8DAED,4BAAoB,iBAClBZ,KAAK,CAACa,GAAN,CAAU,qCAAV,EACEC,IADF,CACO,SAAAC,QAAQ,CAAI,CAChB,MAAI,CAACC,QAAL,CAAc,CAAEJ,YAAY,CAAEG,QAAQ,CAACE,IAAzB,CAAd,EACD,CAHF,EAIEC,KAJF,CAIQ,SAACC,KAAD,CAAW,CACfC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACF,CANF,EAOD,C,iCAED,2BAAkBG,EAAlB,CAAsB,CACpBtB,KAAK,CAACuB,MAAN,CAAa,sCAAsCD,EAAnD,EACGR,IADH,CACQ,SAAAU,GAAG,QAAIJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACP,IAAhB,CAAJ,EADX,EAEA,KAAKD,QAAL,CAAc,CACZJ,YAAY,CAAE,KAAKD,KAAL,CAAWC,YAAX,CAAwBa,MAAxB,CAA+B,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACnB,GAAH,GAAWe,EAAf,EAAjC,CADF,CAAd,EAGD,C,+BAED,0BAAkB,iBAChB,MAAO,MAAKX,KAAL,CAAWC,YAAX,CAAwBe,GAAxB,CAA4B,SAAAC,kBAAkB,CAAI,CACvD,mBAAO,KAAC,WAAD,EAAa,WAAW,CAAEA,kBAA1B,CAA8C,iBAAiB,CAAE,MAAI,CAACpB,iBAAtE,EAA8FoB,kBAAkB,CAACrB,GAAjH,CAAP,CACD,CAFM,CAAP,CAGD,C,sBAEL,iBAAS,CACP,mBACI,oCACA,2CADA,cAEA,eAAO,SAAS,CAAC,OAAjB,wBACE,cAAO,SAAS,CAAC,aAAjB,uBACE,mCACE,gCADF,cAEE,4BAFF,cAGE,8BAHF,cAIE,+BAJF,GADF,EADF,cASE,uBACI,KAAKsB,eAAL,EADJ,EATF,GAFA,GADJ,CAkBD,C,8BAnD2C/B,S,SAAzBW,gB","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Transaction = props => (\r\n    \r\n    <tr>\r\n      <td>{props.transaction.username}</td>\r\n      <td>{props.transaction.role}</td>\r\n      <td>{props.transaction.amount}</td>\r\n      <td>\r\n        <Link to={\"/edit/\"+props.transaction._id}>edit</Link> | <a href=\"/#\" onClick={() => { props.deleteTransaction(props.transaction._id) }}>delete</a>\r\n      </td>\r\n    </tr>\r\n    \r\n  )\r\n  \r\n//const totalAmount = props =>(\r\n//    <div>\r\n//        <p>`Total Amount is ${props.totalAmount}`</p>\r\n//    </div>\r\n//)\r\n\r\nexport default class TransactionsList extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.deleteTransaction = this.deleteTransaction.bind(this);\r\n        this.state = {transactions: []};\r\n      }\r\n\r\n      componentDidMount() {\r\n        axios.get('http://localhost:5000/transactions/')\r\n         .then(response => {\r\n           this.setState({ transactions: response.data });\r\n         })\r\n         .catch((error) => {\r\n            console.log(error);\r\n         })\r\n      }\r\n\r\n      deleteTransaction(id) {\r\n        axios.delete('http://localhost:5000/transactions/'+id)\r\n          .then(res => console.log(res.data));\r\n        this.setState({\r\n          transactions: this.state.transactions.filter(el => el._id !== id)\r\n        })\r\n      }\r\n\r\n      transactionList() {\r\n        return this.state.transactions.map(currenttransaction => {\r\n          return <Transaction transaction={currenttransaction} deleteTransaction={this.deleteTransaction} key={currenttransaction._id}/>;\r\n        })\r\n      }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n        <h3>Logged Transactions</h3>\r\n        <table className=\"table\">\r\n          <thead className=\"thead-light\">\r\n            <tr>\r\n              <th>Username</th>\r\n              <th>Role</th>\r\n              <th>Amount</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            { this.transactionList() }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}