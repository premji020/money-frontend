{"ast":null,"code":"import _classCallCheck from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Coding/MERN/Hackathon 2/money-manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateTransaction=/*#__PURE__*/function(_Component){_inherits(CreateTransaction,_Component);var _super=_createSuper(CreateTransaction);function CreateTransaction(props){var _this;_classCallCheck(this,CreateTransaction);_this=_super.call(this,props);_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangeRole=_this.onChangeRole.bind(_assertThisInitialized(_this));_this.onChangeAmount=_this.onChangeAmount.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={username:\"\",role:\"\",amount:0,users:[]};return _this;}_createClass(CreateTransaction,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:5000/users/\").then(function(response){if(response.data.length>0){_this2.setState({users:response.data.map(function(user){return user.username;}),username:response.data[0].username});}}).catch(function(error){console.log(error);});}},{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangeRole\",value:function onChangeRole(e){this.setState({role:e.target.value});}},{key:\"onChangeAmount\",value:function onChangeAmount(e){this.setState({amount:e.target.value});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var transaction={username:this.state.username,role:this.state.role,amount:this.state.amount};console.log(transaction);axios.post(\"http://localhost:5000/transactions/add\",transaction).then(function(res){return console.log(res.data);});window.location=\"/\";}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Transaction Log\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"select\",{ref:\"userInput\",required:true,className:\"form-control\",value:this.state.username,onChange:this.onChangeUsername,children:this.state.users.map(function(user){return/*#__PURE__*/_jsx(\"option\",{value:user,children:user},user);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.role,onChange:this.onChangeRole})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount (In Rs): \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:this.state.amount,onChange:this.onChangeAmount})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Transaction Log\",className:\"btn btn-primary\"})})]})]});}}]);return CreateTransaction;}(Component);export{CreateTransaction as default};","map":{"version":3,"sources":["D:/Coding/MERN/Hackathon 2/money-manager/src/components/create-transaction.component.js"],"names":["React","Component","axios","CreateTransaction","props","onChangeUsername","bind","onChangeRole","onChangeAmount","onSubmit","state","username","role","amount","users","get","then","response","data","length","setState","map","user","catch","error","console","log","e","target","value","preventDefault","transaction","post","res","window","location"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class CreateTransaction extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onChangeUsername = this.onChangeUsername.bind(this);\r\n    this.onChangeRole = this.onChangeRole.bind(this);\r\n    this.onChangeAmount = this.onChangeAmount.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      role: \"\",\r\n      amount: 0,\r\n      users: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios\r\n      .get(\"http://localhost:5000/users/\")\r\n      .then((response) => {\r\n        if (response.data.length > 0) {\r\n          this.setState({\r\n            users: response.data.map((user) => user.username),\r\n            username: response.data[0].username,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  onChangeUsername(e) {\r\n    this.setState({\r\n      username: e.target.value,\r\n    });\r\n  }\r\n  onChangeRole(e) {\r\n    this.setState({\r\n      role: e.target.value,\r\n    });\r\n  }\r\n  onChangeAmount(e) {\r\n    this.setState({\r\n      amount: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    const transaction = {\r\n      username: this.state.username,\r\n      role: this.state.role,\r\n      amount: this.state.amount,\r\n    };\r\n    console.log(transaction);\r\n    axios\r\n      .post(\"http://localhost:5000/transactions/add\", transaction)\r\n      .then((res) => console.log(res.data));\r\n    window.location = \"/\";\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Create New Transaction Log</h3>\r\n        <form onSubmit={this.onSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Username: </label>\r\n            <select\r\n              ref=\"userInput\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.username}\r\n              onChange={this.onChangeUsername}\r\n            >\r\n              {this.state.users.map(function (user) {\r\n                return (\r\n                  <option key={user} value={user}>\r\n                    {user}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Role: </label>\r\n            <input\r\n              type=\"text\"\r\n              required\r\n              className=\"form-control\"\r\n              value={this.state.role}\r\n              onChange={this.onChangeRole}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Amount (In Rs): </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={this.state.amount}\r\n              onChange={this.onChangeAmount}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Create Transaction Log\"\r\n              className=\"btn btn-primary\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}